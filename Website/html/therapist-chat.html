<!-- therapist-chat.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Live Chat | SLS-U Matter</title>

  <!-- Styles -->
  <link rel="stylesheet" href="/Website/css/global.css">
  <link rel="stylesheet" href="/Website/css/therapist-chat.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- Header with responsive navigation -->
  <header class="site-header">
    <div class="wrap nav-row">
      <div class="brand">
        <img src="/Website/images/logo2.png" alt="SLSU-U Matters Logo" class="brand-logo">
      </div>
      <nav class="main-nav">
        <button class="mobile-menu-toggle" aria-label="Toggle menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <div class="nav-links">
          <a href="/Website/html/therapist-dashboard.html" data-section="therapist-dashboard.html">Dashboard</a>
          <a href="/Website/html/therapist-clients.html" data-section="therapist-clients.html">Clients</a>
          <a href="/Website/html/therapist-schedule.html" data-section="therapist-schedule.html">Schedule</a>
          <a href="/Website/html/therapist-notes.html" data-section="therapist-notes.html">Session Notes</a>
          <a href="/Website/html/therapist-analytics.html" data-section="therapist-analytics.html">Analytics</a>
          <a href="/Website/html/therapist-chat.html" data-section="therapist-chat.html">Live Chat</a>
        </div>
      </nav>
      <!-- Replace the nav-cta section in all main pages -->
<div class="nav-cta">

        <div id="authButtons">
          <!-- Shown when logged OUT â€” changed to open overlay -->
          <button id="loginNavBtn" class="login-btn btn" aria-label="Open login">
            <i class="fas fa-sign-in-alt"></i> Login
          </button>

          <!-- Shown when logged IN (updated by auth code) -->
          <div id="userMenu" style="display:none;">
            <button class="profile-icon" id="profileNavIcon" aria-label="Your dashboard">
              <i class="fas fa-user"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Page Header -->
  <section class="page-header">
    <div class="wrap">
      <h1>Live Chat</h1>
      <p>Connect with students for real-time support and counseling</p>
    </div>
  </section>
  
  <!-- Chat Content -->
  <section class="page-content">
    <div class="wrap">
      <div class="chat-container">
        <div class="chat-sidebar">
          <div class="chat-header">
            <h3>Active Conversations</h3>
            <button class="refresh-btn" id="refreshChats">
              <i class="fas fa-sync-alt"></i>
            </button>
          </div>
          <div class="conversation-list" id="conversationList">
            <div class="empty-state">
              <i class="fas fa-comments"></i>
              <p>No active conversations</p>
            </div>
          </div>
        </div>

        <div class="chat-main">
          <div class="chat-header">
            <div class="chat-user-info">
              <div class="user-avatar">
                <i class="fas fa-user-graduate"></i>
              </div>
              <div class="user-details">
                <h4 id="currentChatUser">Select a conversation</h4>
                <p id="currentChatStatus">Online</p>
              </div>
            </div>
            <div class="chat-actions">
              <button class="action-btn" id="endChatBtn">
                <i class="fas fa-phone-slash"></i>
                End Chat
              </button>
              <button class="action-btn" id="viewProfileBtn">
                <i class="fas fa-user"></i>
                View Profile
              </button>
            </div>
          </div>

          <div class="chat-messages" id="chatMessages">
            <div class="welcome-message">
              <i class="fas fa-comments"></i>
              <h3>Welcome to Live Chat</h3>
              <p>Select a conversation from the sidebar to start chatting</p>
            </div>
          </div>

          <div class="chat-input-container" id="chatInputContainer" style="display: none;">
            <div class="chat-input">
              <textarea id="messageInput" placeholder="Type your message..." rows="1"></textarea>
              <button id="sendMessageBtn" class="send-btn">
                <i class="fas fa-paper-plane"></i>
              </button>
            </div>
            <div class="chat-options">
              <button class="option-btn" id="addNoteBtn">
                <i class="fas fa-file-medical"></i>
                Add Session Note
              </button>
              <button class="option-btn" id="scheduleSessionBtn">
                <i class="fas fa-calendar-plus"></i>
                Schedule Session
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Session Note Modal -->
  <div id="sessionNoteModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Add Session Note</h2>
      <form id="sessionNoteForm">
        <input type="hidden" id="noteClientId">
        <div class="form-group">
          <label for="noteType">Note Type</label>
          <select id="noteType" name="noteType" required>
            <option value="chat">Chat Session</option>
            <option value="initial">Initial Assessment</option>
            <option value="progress">Progress Note</option>
            <option value="crisis">Crisis Intervention</option>
          </select>
        </div>
        <div class="form-group">
          <label for="noteContent">Notes</label>
          <textarea id="noteContent" name="noteContent" rows="6" placeholder="Document key points from the conversation..." required></textarea>
        </div>
        <div class="form-group">
          <label for="followUpAction">Follow-up Actions</label>
          <textarea id="followUpAction" name="followUpAction" rows="3" placeholder="Any recommended next steps..."></textarea>
        </div>
        <div class="form-actions">
          <button type="button" class="secondary-btn" id="cancelNote">Cancel</button>
          <button type="submit" class="primary-btn">Save Note</button>
        </div>
      </form>
    </div>
  </div>

  

  <!-- Footer -->
  <footer>
    <div class="wrap">
      <div class="footer-content">
        <div class="footer-brand">
          <img src="/Website/images/logo2.png" alt="SLSU-U Matters Logo" class="footer-logo">
          <p>Providing compassionate mental health support and resources for SLSU Lucena students.</p>
          <div class="social-links">
            <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
          </div>
        </div>
        <div class="footer-links">
          <div class="links-column">
            <h4>Quick Links</h4>
            <a href="therapist-dashboard.html">Dashboard</a>
            <a href="therapist-clients.html">Clients</a>
            <a href="therapist-schedule.html">Schedule</a>
            <a href="therapist-notes.html">Session Notes</a>
            <!-- Quick Links: add Live Chat -->
<a href="/Website/html/therapist-chat.html" class="footer-chat-link" aria-label="Therapist live chat">
  <i class="fas fa-comments"></i> Live Chat
</a>

          </div>
          <div class="links-column">
            <h4>Support</h4>
            <a href="privacy.html">Privacy Policy</a>
            <a href="terms.html">Terms of Service</a>
            <a href="faq.html">FAQs</a>
            <a href="accessibility.html">Accessibility</a>
          </div>
          <div class="links-column contact">
            <h4>Contact SLSU-U Matter</h4>
            <p>Email: slsu-umatter@slsu.edu.ph</p>
            <p>Campus Hotline: +63 912 345 6789</p>
            <p>Guidance Office: (042) 710-2525</p>
            <p>Address: SLSU Lucena Campus, Lucena City</p>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2023 SLS-U Matters. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

  <!-- Your Firebase wrapper -->
  <script src="/Website/js/firebase.js"></script>

  <!-- Global behaviors -->
  <script src="/Website/js/script.js"></script>

  <!-- Page-specific behaviors -->
  <script src="/Website/js/therapist-chat.js"></script>
</body>
</html>